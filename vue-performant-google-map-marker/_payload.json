[{"data":1,"prerenderedAt":1444},["ShallowReactive",2],{"content-query-G2DpKFQ1VA":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"title":7,"description":8,"date":9,"preview":10,"draft":6,"tags":11,"categories":17,"slug":19,"body":20,"_type":1438,"_id":1439,"_source":1440,"_file":1441,"_stem":1442,"_extension":1443},"/vue-performant-google-map-marker","",false,"VueJs - Thousand Performant Google Map Advanced Marker","Rendering thousands of custom google map marker without clustering","August 20, 2024","img/multi-marker.jpg",[12,13,14,15,16],"gmap","marker","vue","js","typescript",[18,13,14,16],"custom","performant-google-map-marker",{"type":21,"children":22,"toc":1433},"root",[23,32,38,43,52,57,63,79,100,105,114,122,128,151,163,168,1427],{"type":24,"tag":25,"props":26,"children":28},"element","h3",{"id":27},"vuejs-rendering-thousands-of-advanced-google-map-marker",[29],{"type":30,"value":31},"text","VueJS - Rendering Thousands of Advanced Google Map Marker",{"type":24,"tag":33,"props":34,"children":35},"p",{},[36],{"type":30,"value":37},"Rendering thousands of Google Map markers without clustering can be a challenging task, especially when prioritizing performance and visual clarity. By using a custom overlay instead of traditional markers provides greater flexibility in managing complex visual elements directly in the DOM.",{"type":24,"tag":33,"props":39,"children":40},{},[41],{"type":30,"value":42},"This approach enables precise control over marker rendering and interactions, making it ideal for scenarios where clustering is not feasible or desired, such as representing distinct data points that must remain individually visible.",{"type":24,"tag":33,"props":44,"children":45},{},[46],{"type":24,"tag":47,"props":48,"children":49},"strong",{},[50],{"type":30,"value":51},"Note: This approach isnt just for vue but can be done in any framework as well.",{"type":24,"tag":33,"props":53,"children":54},{},[55],{"type":30,"value":56},"Let's go through the process and see how I manage to render thousands of google map marker.",{"type":24,"tag":25,"props":58,"children":60},{"id":59},"performance-problem",[61],{"type":30,"value":62},"Performance Problem",{"type":24,"tag":33,"props":64,"children":65},{},[66,68,77],{"type":30,"value":67},"Some users may want to view all markers on a map without using clustering for various reasons. However, rendering a large number of markers—say, 5,000 or more—on Google Maps can lead to significant performance issues, even during the initial load. Despite optimizations like using png instead of svg (as Google Maps optimizes them); you can read more about it ",{"type":24,"tag":69,"props":70,"children":74},"a",{"href":71,"rel":72},"https://mapsplatform.google.com/resources/blog/google-maps-platform-best-practices-optimization-and-performance-tips/",[73],"nofollow",[75],{"type":30,"value":76},"here",{"type":30,"value":78},", setting marker sizes, and batch rendering, the initial render remains sluggish, and dragging the map feels unresponsive, resulting in a subpar user experience.",{"type":24,"tag":33,"props":80,"children":81},{},[82,84,91,93,98],{"type":30,"value":83},"At first, I thought there might be something wrong with my implementation. However, after extensive research, I came across an issue tracker related to rendering a large number of markers on Google Maps. You can find more details here: ",{"type":24,"tag":69,"props":85,"children":88},{"href":86,"rel":87},"https://issuetracker.google.com/issues/333423690",[73],[89],{"type":30,"value":90},"Google Issue Tracker",{"type":30,"value":92},". After reviewing this, I’m assured that I’ve done everything possible to optimize the code, but the root cause ",{"type":24,"tag":47,"props":94,"children":95},{},[96],{"type":30,"value":97},"maybe",{"type":30,"value":99}," lies with the Google Maps marker itself.",{"type":24,"tag":33,"props":101,"children":102},{},[103],{"type":30,"value":104},"Some of the comments from the issue tracker.",{"type":24,"tag":106,"props":107,"children":108},"blockquote",{},[109],{"type":24,"tag":33,"props":110,"children":111},{},[112],{"type":30,"value":113},"Wait, google gave us AdvancedMarker, saying they are better in all aspects, but they can't even display 200 of them? Considering this, google should maybe keep both, marker and advancedmarker, alive. You could add to the docs that one should use normal marker if the number of them exceeds some amount.",{"type":24,"tag":106,"props":115,"children":116},{},[117],{"type":24,"tag":33,"props":118,"children":119},{},[120],{"type":30,"value":121},"with old markers, we allowed up to 1500 without clustering. With new ones i find 200-250 is equivalent in performance, 500 has some short freezes already and increased memory usage.\nCustom SVG/html - but overall the complex of these elements is equivalent to the default google markers - and i get similar performance drops with default markers.",{"type":24,"tag":25,"props":123,"children":125},{"id":124},"solution",[126],{"type":30,"value":127},"Solution",{"type":24,"tag":33,"props":129,"children":130},{},[131,133,140,142,149],{"type":30,"value":132},"I initially considered using a canvas for rendering the custom overlay with the marker in it and to refactor everything as it seemed like a more performant solution. However, since I’m not familiar with the approach, implementing it would take me several days or even weeks so I needed other approach. After further debugging, reading blogs, searching related stuff about maps I came across an old video and blog from Redfin where they explained how they developed their own custom marker solution. You can see the ",{"type":24,"tag":69,"props":134,"children":137},{"href":135,"rel":136},"https://redfin.engineering/introducing-multimarker-the-fastest-way-to-add-many-hundreds-or-thousands-of-markers-on-google-maps-3b2b757177e5",[73],[138],{"type":30,"value":139},"blog here",{"type":30,"value":141}," and the ",{"type":24,"tag":69,"props":143,"children":146},{"href":144,"rel":145},"https://www.youtube.com/watch?v=zI8at1EmJjA",[73],[147],{"type":30,"value":148},"youtube video on this link",{"type":30,"value":150},". This gave me an idea on how to implement this.",{"type":24,"tag":33,"props":152,"children":153},{},[154,156,161],{"type":30,"value":155},"The gist of this is that you need to create a custom overlay which will be used to render your own custom marker. Here is a snippet of the code that I did. ",{"type":24,"tag":47,"props":157,"children":158},{},[159],{"type":30,"value":160},"Note:",{"type":30,"value":162}," This is not the full code of the custom marker and there are still a lot of handling and optimization that I did.",{"type":24,"tag":33,"props":164,"children":165},{},[166],{"type":30,"value":167},"You can check the google maps documentation for the custom marker overlay for more info. Take note when updating the position of the marker use translate since its more performant than setting the top and left of the marker.",{"type":24,"tag":169,"props":170,"children":173},"pre",{"className":171,"code":172,"language":15,"meta":5,"style":5},"language-js shiki shiki-themes github-dark","class CustomMarker {\n\n    draw(): void {\n        if (! this._div) return //Return if div has already been removed\n        this.updateMarkerPosition()\n    }\n\n    onAdd(): void {\n        this._map = this.getMap() as google.maps.Map\n\n        this._div = document.createElement('div');\n        this._div!.style.position = 'absolute';\n        this._div!.style.zIndex = '5';\n        this._div!.style.width = '100%';\n        this._div!.style.height = '100%';\n\n        const panes = this.getPanes();\n        panes?.overlayMouseTarget.appendChild(this._div);\n\n        this._lhInfoWindow.setMap(this._map)\n    }\n\n    generateMarkers() {\n      if (! this._div) return\n\n      const overlayProjection = this.getProjection()\n      if (! overlayProjection) return\n\n      const markerInnerHTML: string[] = []\n\n      let totalMarkers = this._markers.length\n      // //Random marker price to show\n      const zoom = this._map?.getZoom()\n      if (! zoom) return\n\n      const offsetMarkerHeight = this.getMarkerOffsetY(zoom)\n\n      while(totalMarkers--) {\n        //get current marker\n        const currentMarker = this._markers[totalMarkers]\n        const divPixel = overlayProjection.fromLatLngToDivPixel({\n          lat: +currentMarker.lat!,\n          lng: +currentMarker.lng!\n        })\n\n        const position = {\n          x: divPixel?.x! - 15,\n          y: divPixel?.y! - offsetMarkerHeight\n        }\n\n        markerInnerHTML.push(generateMarker(currentMarker, position))\n      }\n\n      this._div!.innerHTML = markerInnerHTML.join('')\n      this._divMarkers = this._div?.children\n    }\n}\n",[174],{"type":24,"tag":175,"props":176,"children":177},"code",{"__ignoreMap":5},[178,202,212,241,281,305,314,322,347,411,419,462,498,532,566,599,607,644,672,680,711,719,727,741,771,779,814,839,847,883,891,923,932,967,992,1000,1035,1043,1067,1076,1102,1134,1162,1185,1194,1202,1223,1250,1272,1281,1289,1317,1326,1334,1384,1410,1418],{"type":24,"tag":179,"props":180,"children":183},"span",{"class":181,"line":182},"line",1,[184,190,196],{"type":24,"tag":179,"props":185,"children":187},{"style":186},"--shiki-default:#F97583",[188],{"type":30,"value":189},"class",{"type":24,"tag":179,"props":191,"children":193},{"style":192},"--shiki-default:#B392F0",[194],{"type":30,"value":195}," CustomMarker",{"type":24,"tag":179,"props":197,"children":199},{"style":198},"--shiki-default:#E1E4E8",[200],{"type":30,"value":201}," {\n",{"type":24,"tag":179,"props":203,"children":205},{"class":181,"line":204},2,[206],{"type":24,"tag":179,"props":207,"children":209},{"emptyLinePlaceholder":208},true,[210],{"type":30,"value":211},"\n",{"type":24,"tag":179,"props":213,"children":215},{"class":181,"line":214},3,[216,221,226,231,237],{"type":24,"tag":179,"props":217,"children":218},{"style":192},[219],{"type":30,"value":220},"    draw",{"type":24,"tag":179,"props":222,"children":223},{"style":198},[224],{"type":30,"value":225},"()",{"type":24,"tag":179,"props":227,"children":228},{"style":186},[229],{"type":30,"value":230},":",{"type":24,"tag":179,"props":232,"children":234},{"style":233},"--shiki-default:#79B8FF",[235],{"type":30,"value":236}," void",{"type":24,"tag":179,"props":238,"children":239},{"style":198},[240],{"type":30,"value":201},{"type":24,"tag":179,"props":242,"children":244},{"class":181,"line":243},4,[245,250,255,260,265,270,275],{"type":24,"tag":179,"props":246,"children":247},{"style":186},[248],{"type":30,"value":249},"        if",{"type":24,"tag":179,"props":251,"children":252},{"style":198},[253],{"type":30,"value":254}," (",{"type":24,"tag":179,"props":256,"children":257},{"style":186},[258],{"type":30,"value":259},"!",{"type":24,"tag":179,"props":261,"children":262},{"style":233},[263],{"type":30,"value":264}," this",{"type":24,"tag":179,"props":266,"children":267},{"style":198},[268],{"type":30,"value":269},"._div) ",{"type":24,"tag":179,"props":271,"children":272},{"style":186},[273],{"type":30,"value":274},"return",{"type":24,"tag":179,"props":276,"children":278},{"style":277},"--shiki-default:#6A737D",[279],{"type":30,"value":280}," //Return if div has already been removed\n",{"type":24,"tag":179,"props":282,"children":284},{"class":181,"line":283},5,[285,290,295,300],{"type":24,"tag":179,"props":286,"children":287},{"style":233},[288],{"type":30,"value":289},"        this",{"type":24,"tag":179,"props":291,"children":292},{"style":198},[293],{"type":30,"value":294},".",{"type":24,"tag":179,"props":296,"children":297},{"style":192},[298],{"type":30,"value":299},"updateMarkerPosition",{"type":24,"tag":179,"props":301,"children":302},{"style":198},[303],{"type":30,"value":304},"()\n",{"type":24,"tag":179,"props":306,"children":308},{"class":181,"line":307},6,[309],{"type":24,"tag":179,"props":310,"children":311},{"style":198},[312],{"type":30,"value":313},"    }\n",{"type":24,"tag":179,"props":315,"children":317},{"class":181,"line":316},7,[318],{"type":24,"tag":179,"props":319,"children":320},{"emptyLinePlaceholder":208},[321],{"type":30,"value":211},{"type":24,"tag":179,"props":323,"children":325},{"class":181,"line":324},8,[326,331,335,339,343],{"type":24,"tag":179,"props":327,"children":328},{"style":192},[329],{"type":30,"value":330},"    onAdd",{"type":24,"tag":179,"props":332,"children":333},{"style":198},[334],{"type":30,"value":225},{"type":24,"tag":179,"props":336,"children":337},{"style":186},[338],{"type":30,"value":230},{"type":24,"tag":179,"props":340,"children":341},{"style":233},[342],{"type":30,"value":236},{"type":24,"tag":179,"props":344,"children":345},{"style":198},[346],{"type":30,"value":201},{"type":24,"tag":179,"props":348,"children":350},{"class":181,"line":349},9,[351,355,360,365,369,373,378,383,388,393,397,402,406],{"type":24,"tag":179,"props":352,"children":353},{"style":233},[354],{"type":30,"value":289},{"type":24,"tag":179,"props":356,"children":357},{"style":198},[358],{"type":30,"value":359},"._map ",{"type":24,"tag":179,"props":361,"children":362},{"style":186},[363],{"type":30,"value":364},"=",{"type":24,"tag":179,"props":366,"children":367},{"style":233},[368],{"type":30,"value":264},{"type":24,"tag":179,"props":370,"children":371},{"style":198},[372],{"type":30,"value":294},{"type":24,"tag":179,"props":374,"children":375},{"style":192},[376],{"type":30,"value":377},"getMap",{"type":24,"tag":179,"props":379,"children":380},{"style":198},[381],{"type":30,"value":382},"() ",{"type":24,"tag":179,"props":384,"children":385},{"style":186},[386],{"type":30,"value":387},"as",{"type":24,"tag":179,"props":389,"children":390},{"style":192},[391],{"type":30,"value":392}," google",{"type":24,"tag":179,"props":394,"children":395},{"style":198},[396],{"type":30,"value":294},{"type":24,"tag":179,"props":398,"children":399},{"style":192},[400],{"type":30,"value":401},"maps",{"type":24,"tag":179,"props":403,"children":404},{"style":198},[405],{"type":30,"value":294},{"type":24,"tag":179,"props":407,"children":408},{"style":192},[409],{"type":30,"value":410},"Map\n",{"type":24,"tag":179,"props":412,"children":414},{"class":181,"line":413},10,[415],{"type":24,"tag":179,"props":416,"children":417},{"emptyLinePlaceholder":208},[418],{"type":30,"value":211},{"type":24,"tag":179,"props":420,"children":422},{"class":181,"line":421},11,[423,427,432,436,441,446,451,457],{"type":24,"tag":179,"props":424,"children":425},{"style":233},[426],{"type":30,"value":289},{"type":24,"tag":179,"props":428,"children":429},{"style":198},[430],{"type":30,"value":431},"._div ",{"type":24,"tag":179,"props":433,"children":434},{"style":186},[435],{"type":30,"value":364},{"type":24,"tag":179,"props":437,"children":438},{"style":198},[439],{"type":30,"value":440}," document.",{"type":24,"tag":179,"props":442,"children":443},{"style":192},[444],{"type":30,"value":445},"createElement",{"type":24,"tag":179,"props":447,"children":448},{"style":198},[449],{"type":30,"value":450},"(",{"type":24,"tag":179,"props":452,"children":454},{"style":453},"--shiki-default:#9ECBFF",[455],{"type":30,"value":456},"'div'",{"type":24,"tag":179,"props":458,"children":459},{"style":198},[460],{"type":30,"value":461},");\n",{"type":24,"tag":179,"props":463,"children":465},{"class":181,"line":464},12,[466,470,475,479,484,488,493],{"type":24,"tag":179,"props":467,"children":468},{"style":233},[469],{"type":30,"value":289},{"type":24,"tag":179,"props":471,"children":472},{"style":198},[473],{"type":30,"value":474},"._div",{"type":24,"tag":179,"props":476,"children":477},{"style":186},[478],{"type":30,"value":259},{"type":24,"tag":179,"props":480,"children":481},{"style":198},[482],{"type":30,"value":483},".style.position ",{"type":24,"tag":179,"props":485,"children":486},{"style":186},[487],{"type":30,"value":364},{"type":24,"tag":179,"props":489,"children":490},{"style":453},[491],{"type":30,"value":492}," 'absolute'",{"type":24,"tag":179,"props":494,"children":495},{"style":198},[496],{"type":30,"value":497},";\n",{"type":24,"tag":179,"props":499,"children":501},{"class":181,"line":500},13,[502,506,510,514,519,523,528],{"type":24,"tag":179,"props":503,"children":504},{"style":233},[505],{"type":30,"value":289},{"type":24,"tag":179,"props":507,"children":508},{"style":198},[509],{"type":30,"value":474},{"type":24,"tag":179,"props":511,"children":512},{"style":186},[513],{"type":30,"value":259},{"type":24,"tag":179,"props":515,"children":516},{"style":198},[517],{"type":30,"value":518},".style.zIndex ",{"type":24,"tag":179,"props":520,"children":521},{"style":186},[522],{"type":30,"value":364},{"type":24,"tag":179,"props":524,"children":525},{"style":453},[526],{"type":30,"value":527}," '5'",{"type":24,"tag":179,"props":529,"children":530},{"style":198},[531],{"type":30,"value":497},{"type":24,"tag":179,"props":533,"children":535},{"class":181,"line":534},14,[536,540,544,548,553,557,562],{"type":24,"tag":179,"props":537,"children":538},{"style":233},[539],{"type":30,"value":289},{"type":24,"tag":179,"props":541,"children":542},{"style":198},[543],{"type":30,"value":474},{"type":24,"tag":179,"props":545,"children":546},{"style":186},[547],{"type":30,"value":259},{"type":24,"tag":179,"props":549,"children":550},{"style":198},[551],{"type":30,"value":552},".style.width ",{"type":24,"tag":179,"props":554,"children":555},{"style":186},[556],{"type":30,"value":364},{"type":24,"tag":179,"props":558,"children":559},{"style":453},[560],{"type":30,"value":561}," '100%'",{"type":24,"tag":179,"props":563,"children":564},{"style":198},[565],{"type":30,"value":497},{"type":24,"tag":179,"props":567,"children":569},{"class":181,"line":568},15,[570,574,578,582,587,591,595],{"type":24,"tag":179,"props":571,"children":572},{"style":233},[573],{"type":30,"value":289},{"type":24,"tag":179,"props":575,"children":576},{"style":198},[577],{"type":30,"value":474},{"type":24,"tag":179,"props":579,"children":580},{"style":186},[581],{"type":30,"value":259},{"type":24,"tag":179,"props":583,"children":584},{"style":198},[585],{"type":30,"value":586},".style.height ",{"type":24,"tag":179,"props":588,"children":589},{"style":186},[590],{"type":30,"value":364},{"type":24,"tag":179,"props":592,"children":593},{"style":453},[594],{"type":30,"value":561},{"type":24,"tag":179,"props":596,"children":597},{"style":198},[598],{"type":30,"value":497},{"type":24,"tag":179,"props":600,"children":602},{"class":181,"line":601},16,[603],{"type":24,"tag":179,"props":604,"children":605},{"emptyLinePlaceholder":208},[606],{"type":30,"value":211},{"type":24,"tag":179,"props":608,"children":610},{"class":181,"line":609},17,[611,616,621,626,630,634,639],{"type":24,"tag":179,"props":612,"children":613},{"style":186},[614],{"type":30,"value":615},"        const",{"type":24,"tag":179,"props":617,"children":618},{"style":233},[619],{"type":30,"value":620}," panes",{"type":24,"tag":179,"props":622,"children":623},{"style":186},[624],{"type":30,"value":625}," =",{"type":24,"tag":179,"props":627,"children":628},{"style":233},[629],{"type":30,"value":264},{"type":24,"tag":179,"props":631,"children":632},{"style":198},[633],{"type":30,"value":294},{"type":24,"tag":179,"props":635,"children":636},{"style":192},[637],{"type":30,"value":638},"getPanes",{"type":24,"tag":179,"props":640,"children":641},{"style":198},[642],{"type":30,"value":643},"();\n",{"type":24,"tag":179,"props":645,"children":647},{"class":181,"line":646},18,[648,653,658,662,667],{"type":24,"tag":179,"props":649,"children":650},{"style":198},[651],{"type":30,"value":652},"        panes?.overlayMouseTarget.",{"type":24,"tag":179,"props":654,"children":655},{"style":192},[656],{"type":30,"value":657},"appendChild",{"type":24,"tag":179,"props":659,"children":660},{"style":198},[661],{"type":30,"value":450},{"type":24,"tag":179,"props":663,"children":664},{"style":233},[665],{"type":30,"value":666},"this",{"type":24,"tag":179,"props":668,"children":669},{"style":198},[670],{"type":30,"value":671},"._div);\n",{"type":24,"tag":179,"props":673,"children":675},{"class":181,"line":674},19,[676],{"type":24,"tag":179,"props":677,"children":678},{"emptyLinePlaceholder":208},[679],{"type":30,"value":211},{"type":24,"tag":179,"props":681,"children":683},{"class":181,"line":682},20,[684,688,693,698,702,706],{"type":24,"tag":179,"props":685,"children":686},{"style":233},[687],{"type":30,"value":289},{"type":24,"tag":179,"props":689,"children":690},{"style":198},[691],{"type":30,"value":692},"._lhInfoWindow.",{"type":24,"tag":179,"props":694,"children":695},{"style":192},[696],{"type":30,"value":697},"setMap",{"type":24,"tag":179,"props":699,"children":700},{"style":198},[701],{"type":30,"value":450},{"type":24,"tag":179,"props":703,"children":704},{"style":233},[705],{"type":30,"value":666},{"type":24,"tag":179,"props":707,"children":708},{"style":198},[709],{"type":30,"value":710},"._map)\n",{"type":24,"tag":179,"props":712,"children":714},{"class":181,"line":713},21,[715],{"type":24,"tag":179,"props":716,"children":717},{"style":198},[718],{"type":30,"value":313},{"type":24,"tag":179,"props":720,"children":722},{"class":181,"line":721},22,[723],{"type":24,"tag":179,"props":724,"children":725},{"emptyLinePlaceholder":208},[726],{"type":30,"value":211},{"type":24,"tag":179,"props":728,"children":730},{"class":181,"line":729},23,[731,736],{"type":24,"tag":179,"props":732,"children":733},{"style":192},[734],{"type":30,"value":735},"    generateMarkers",{"type":24,"tag":179,"props":737,"children":738},{"style":198},[739],{"type":30,"value":740},"() {\n",{"type":24,"tag":179,"props":742,"children":744},{"class":181,"line":743},24,[745,750,754,758,762,766],{"type":24,"tag":179,"props":746,"children":747},{"style":186},[748],{"type":30,"value":749},"      if",{"type":24,"tag":179,"props":751,"children":752},{"style":198},[753],{"type":30,"value":254},{"type":24,"tag":179,"props":755,"children":756},{"style":186},[757],{"type":30,"value":259},{"type":24,"tag":179,"props":759,"children":760},{"style":233},[761],{"type":30,"value":264},{"type":24,"tag":179,"props":763,"children":764},{"style":198},[765],{"type":30,"value":269},{"type":24,"tag":179,"props":767,"children":768},{"style":186},[769],{"type":30,"value":770},"return\n",{"type":24,"tag":179,"props":772,"children":774},{"class":181,"line":773},25,[775],{"type":24,"tag":179,"props":776,"children":777},{"emptyLinePlaceholder":208},[778],{"type":30,"value":211},{"type":24,"tag":179,"props":780,"children":782},{"class":181,"line":781},26,[783,788,793,797,801,805,810],{"type":24,"tag":179,"props":784,"children":785},{"style":186},[786],{"type":30,"value":787},"      const",{"type":24,"tag":179,"props":789,"children":790},{"style":233},[791],{"type":30,"value":792}," overlayProjection",{"type":24,"tag":179,"props":794,"children":795},{"style":186},[796],{"type":30,"value":625},{"type":24,"tag":179,"props":798,"children":799},{"style":233},[800],{"type":30,"value":264},{"type":24,"tag":179,"props":802,"children":803},{"style":198},[804],{"type":30,"value":294},{"type":24,"tag":179,"props":806,"children":807},{"style":192},[808],{"type":30,"value":809},"getProjection",{"type":24,"tag":179,"props":811,"children":812},{"style":198},[813],{"type":30,"value":304},{"type":24,"tag":179,"props":815,"children":817},{"class":181,"line":816},27,[818,822,826,830,835],{"type":24,"tag":179,"props":819,"children":820},{"style":186},[821],{"type":30,"value":749},{"type":24,"tag":179,"props":823,"children":824},{"style":198},[825],{"type":30,"value":254},{"type":24,"tag":179,"props":827,"children":828},{"style":186},[829],{"type":30,"value":259},{"type":24,"tag":179,"props":831,"children":832},{"style":198},[833],{"type":30,"value":834}," overlayProjection) ",{"type":24,"tag":179,"props":836,"children":837},{"style":186},[838],{"type":30,"value":770},{"type":24,"tag":179,"props":840,"children":842},{"class":181,"line":841},28,[843],{"type":24,"tag":179,"props":844,"children":845},{"emptyLinePlaceholder":208},[846],{"type":30,"value":211},{"type":24,"tag":179,"props":848,"children":850},{"class":181,"line":849},29,[851,855,860,864,869,874,878],{"type":24,"tag":179,"props":852,"children":853},{"style":186},[854],{"type":30,"value":787},{"type":24,"tag":179,"props":856,"children":857},{"style":233},[858],{"type":30,"value":859}," markerInnerHTML",{"type":24,"tag":179,"props":861,"children":862},{"style":186},[863],{"type":30,"value":230},{"type":24,"tag":179,"props":865,"children":866},{"style":233},[867],{"type":30,"value":868}," string",{"type":24,"tag":179,"props":870,"children":871},{"style":198},[872],{"type":30,"value":873},"[] ",{"type":24,"tag":179,"props":875,"children":876},{"style":186},[877],{"type":30,"value":364},{"type":24,"tag":179,"props":879,"children":880},{"style":198},[881],{"type":30,"value":882}," []\n",{"type":24,"tag":179,"props":884,"children":886},{"class":181,"line":885},30,[887],{"type":24,"tag":179,"props":888,"children":889},{"emptyLinePlaceholder":208},[890],{"type":30,"value":211},{"type":24,"tag":179,"props":892,"children":894},{"class":181,"line":893},31,[895,900,905,909,913,918],{"type":24,"tag":179,"props":896,"children":897},{"style":186},[898],{"type":30,"value":899},"      let",{"type":24,"tag":179,"props":901,"children":902},{"style":198},[903],{"type":30,"value":904}," totalMarkers ",{"type":24,"tag":179,"props":906,"children":907},{"style":186},[908],{"type":30,"value":364},{"type":24,"tag":179,"props":910,"children":911},{"style":233},[912],{"type":30,"value":264},{"type":24,"tag":179,"props":914,"children":915},{"style":198},[916],{"type":30,"value":917},"._markers.",{"type":24,"tag":179,"props":919,"children":920},{"style":233},[921],{"type":30,"value":922},"length\n",{"type":24,"tag":179,"props":924,"children":926},{"class":181,"line":925},32,[927],{"type":24,"tag":179,"props":928,"children":929},{"style":277},[930],{"type":30,"value":931},"      // //Random marker price to show\n",{"type":24,"tag":179,"props":933,"children":935},{"class":181,"line":934},33,[936,940,945,949,953,958,963],{"type":24,"tag":179,"props":937,"children":938},{"style":186},[939],{"type":30,"value":787},{"type":24,"tag":179,"props":941,"children":942},{"style":233},[943],{"type":30,"value":944}," zoom",{"type":24,"tag":179,"props":946,"children":947},{"style":186},[948],{"type":30,"value":625},{"type":24,"tag":179,"props":950,"children":951},{"style":233},[952],{"type":30,"value":264},{"type":24,"tag":179,"props":954,"children":955},{"style":198},[956],{"type":30,"value":957},"._map?.",{"type":24,"tag":179,"props":959,"children":960},{"style":192},[961],{"type":30,"value":962},"getZoom",{"type":24,"tag":179,"props":964,"children":965},{"style":198},[966],{"type":30,"value":304},{"type":24,"tag":179,"props":968,"children":970},{"class":181,"line":969},34,[971,975,979,983,988],{"type":24,"tag":179,"props":972,"children":973},{"style":186},[974],{"type":30,"value":749},{"type":24,"tag":179,"props":976,"children":977},{"style":198},[978],{"type":30,"value":254},{"type":24,"tag":179,"props":980,"children":981},{"style":186},[982],{"type":30,"value":259},{"type":24,"tag":179,"props":984,"children":985},{"style":198},[986],{"type":30,"value":987}," zoom) ",{"type":24,"tag":179,"props":989,"children":990},{"style":186},[991],{"type":30,"value":770},{"type":24,"tag":179,"props":993,"children":995},{"class":181,"line":994},35,[996],{"type":24,"tag":179,"props":997,"children":998},{"emptyLinePlaceholder":208},[999],{"type":30,"value":211},{"type":24,"tag":179,"props":1001,"children":1003},{"class":181,"line":1002},36,[1004,1008,1013,1017,1021,1025,1030],{"type":24,"tag":179,"props":1005,"children":1006},{"style":186},[1007],{"type":30,"value":787},{"type":24,"tag":179,"props":1009,"children":1010},{"style":233},[1011],{"type":30,"value":1012}," offsetMarkerHeight",{"type":24,"tag":179,"props":1014,"children":1015},{"style":186},[1016],{"type":30,"value":625},{"type":24,"tag":179,"props":1018,"children":1019},{"style":233},[1020],{"type":30,"value":264},{"type":24,"tag":179,"props":1022,"children":1023},{"style":198},[1024],{"type":30,"value":294},{"type":24,"tag":179,"props":1026,"children":1027},{"style":192},[1028],{"type":30,"value":1029},"getMarkerOffsetY",{"type":24,"tag":179,"props":1031,"children":1032},{"style":198},[1033],{"type":30,"value":1034},"(zoom)\n",{"type":24,"tag":179,"props":1036,"children":1038},{"class":181,"line":1037},37,[1039],{"type":24,"tag":179,"props":1040,"children":1041},{"emptyLinePlaceholder":208},[1042],{"type":30,"value":211},{"type":24,"tag":179,"props":1044,"children":1046},{"class":181,"line":1045},38,[1047,1052,1057,1062],{"type":24,"tag":179,"props":1048,"children":1049},{"style":186},[1050],{"type":30,"value":1051},"      while",{"type":24,"tag":179,"props":1053,"children":1054},{"style":198},[1055],{"type":30,"value":1056},"(totalMarkers",{"type":24,"tag":179,"props":1058,"children":1059},{"style":186},[1060],{"type":30,"value":1061},"--",{"type":24,"tag":179,"props":1063,"children":1064},{"style":198},[1065],{"type":30,"value":1066},") {\n",{"type":24,"tag":179,"props":1068,"children":1070},{"class":181,"line":1069},39,[1071],{"type":24,"tag":179,"props":1072,"children":1073},{"style":277},[1074],{"type":30,"value":1075},"        //get current marker\n",{"type":24,"tag":179,"props":1077,"children":1079},{"class":181,"line":1078},40,[1080,1084,1089,1093,1097],{"type":24,"tag":179,"props":1081,"children":1082},{"style":186},[1083],{"type":30,"value":615},{"type":24,"tag":179,"props":1085,"children":1086},{"style":233},[1087],{"type":30,"value":1088}," currentMarker",{"type":24,"tag":179,"props":1090,"children":1091},{"style":186},[1092],{"type":30,"value":625},{"type":24,"tag":179,"props":1094,"children":1095},{"style":233},[1096],{"type":30,"value":264},{"type":24,"tag":179,"props":1098,"children":1099},{"style":198},[1100],{"type":30,"value":1101},"._markers[totalMarkers]\n",{"type":24,"tag":179,"props":1103,"children":1105},{"class":181,"line":1104},41,[1106,1110,1115,1119,1124,1129],{"type":24,"tag":179,"props":1107,"children":1108},{"style":186},[1109],{"type":30,"value":615},{"type":24,"tag":179,"props":1111,"children":1112},{"style":233},[1113],{"type":30,"value":1114}," divPixel",{"type":24,"tag":179,"props":1116,"children":1117},{"style":186},[1118],{"type":30,"value":625},{"type":24,"tag":179,"props":1120,"children":1121},{"style":198},[1122],{"type":30,"value":1123}," overlayProjection.",{"type":24,"tag":179,"props":1125,"children":1126},{"style":192},[1127],{"type":30,"value":1128},"fromLatLngToDivPixel",{"type":24,"tag":179,"props":1130,"children":1131},{"style":198},[1132],{"type":30,"value":1133},"({\n",{"type":24,"tag":179,"props":1135,"children":1137},{"class":181,"line":1136},42,[1138,1143,1148,1153,1157],{"type":24,"tag":179,"props":1139,"children":1140},{"style":198},[1141],{"type":30,"value":1142},"          lat: ",{"type":24,"tag":179,"props":1144,"children":1145},{"style":186},[1146],{"type":30,"value":1147},"+",{"type":24,"tag":179,"props":1149,"children":1150},{"style":198},[1151],{"type":30,"value":1152},"currentMarker.lat",{"type":24,"tag":179,"props":1154,"children":1155},{"style":186},[1156],{"type":30,"value":259},{"type":24,"tag":179,"props":1158,"children":1159},{"style":198},[1160],{"type":30,"value":1161},",\n",{"type":24,"tag":179,"props":1163,"children":1165},{"class":181,"line":1164},43,[1166,1171,1175,1180],{"type":24,"tag":179,"props":1167,"children":1168},{"style":198},[1169],{"type":30,"value":1170},"          lng: ",{"type":24,"tag":179,"props":1172,"children":1173},{"style":186},[1174],{"type":30,"value":1147},{"type":24,"tag":179,"props":1176,"children":1177},{"style":198},[1178],{"type":30,"value":1179},"currentMarker.lng",{"type":24,"tag":179,"props":1181,"children":1182},{"style":186},[1183],{"type":30,"value":1184},"!\n",{"type":24,"tag":179,"props":1186,"children":1188},{"class":181,"line":1187},44,[1189],{"type":24,"tag":179,"props":1190,"children":1191},{"style":198},[1192],{"type":30,"value":1193},"        })\n",{"type":24,"tag":179,"props":1195,"children":1197},{"class":181,"line":1196},45,[1198],{"type":24,"tag":179,"props":1199,"children":1200},{"emptyLinePlaceholder":208},[1201],{"type":30,"value":211},{"type":24,"tag":179,"props":1203,"children":1205},{"class":181,"line":1204},46,[1206,1210,1215,1219],{"type":24,"tag":179,"props":1207,"children":1208},{"style":186},[1209],{"type":30,"value":615},{"type":24,"tag":179,"props":1211,"children":1212},{"style":233},[1213],{"type":30,"value":1214}," position",{"type":24,"tag":179,"props":1216,"children":1217},{"style":186},[1218],{"type":30,"value":625},{"type":24,"tag":179,"props":1220,"children":1221},{"style":198},[1222],{"type":30,"value":201},{"type":24,"tag":179,"props":1224,"children":1226},{"class":181,"line":1225},47,[1227,1232,1236,1241,1246],{"type":24,"tag":179,"props":1228,"children":1229},{"style":198},[1230],{"type":30,"value":1231},"          x: divPixel?.x",{"type":24,"tag":179,"props":1233,"children":1234},{"style":186},[1235],{"type":30,"value":259},{"type":24,"tag":179,"props":1237,"children":1238},{"style":186},[1239],{"type":30,"value":1240}," -",{"type":24,"tag":179,"props":1242,"children":1243},{"style":233},[1244],{"type":30,"value":1245}," 15",{"type":24,"tag":179,"props":1247,"children":1248},{"style":198},[1249],{"type":30,"value":1161},{"type":24,"tag":179,"props":1251,"children":1253},{"class":181,"line":1252},48,[1254,1259,1263,1267],{"type":24,"tag":179,"props":1255,"children":1256},{"style":198},[1257],{"type":30,"value":1258},"          y: divPixel?.y",{"type":24,"tag":179,"props":1260,"children":1261},{"style":186},[1262],{"type":30,"value":259},{"type":24,"tag":179,"props":1264,"children":1265},{"style":186},[1266],{"type":30,"value":1240},{"type":24,"tag":179,"props":1268,"children":1269},{"style":198},[1270],{"type":30,"value":1271}," offsetMarkerHeight\n",{"type":24,"tag":179,"props":1273,"children":1275},{"class":181,"line":1274},49,[1276],{"type":24,"tag":179,"props":1277,"children":1278},{"style":198},[1279],{"type":30,"value":1280},"        }\n",{"type":24,"tag":179,"props":1282,"children":1284},{"class":181,"line":1283},50,[1285],{"type":24,"tag":179,"props":1286,"children":1287},{"emptyLinePlaceholder":208},[1288],{"type":30,"value":211},{"type":24,"tag":179,"props":1290,"children":1292},{"class":181,"line":1291},51,[1293,1298,1303,1307,1312],{"type":24,"tag":179,"props":1294,"children":1295},{"style":198},[1296],{"type":30,"value":1297},"        markerInnerHTML.",{"type":24,"tag":179,"props":1299,"children":1300},{"style":192},[1301],{"type":30,"value":1302},"push",{"type":24,"tag":179,"props":1304,"children":1305},{"style":198},[1306],{"type":30,"value":450},{"type":24,"tag":179,"props":1308,"children":1309},{"style":192},[1310],{"type":30,"value":1311},"generateMarker",{"type":24,"tag":179,"props":1313,"children":1314},{"style":198},[1315],{"type":30,"value":1316},"(currentMarker, position))\n",{"type":24,"tag":179,"props":1318,"children":1320},{"class":181,"line":1319},52,[1321],{"type":24,"tag":179,"props":1322,"children":1323},{"style":198},[1324],{"type":30,"value":1325},"      }\n",{"type":24,"tag":179,"props":1327,"children":1329},{"class":181,"line":1328},53,[1330],{"type":24,"tag":179,"props":1331,"children":1332},{"emptyLinePlaceholder":208},[1333],{"type":30,"value":211},{"type":24,"tag":179,"props":1335,"children":1337},{"class":181,"line":1336},54,[1338,1343,1347,1351,1356,1360,1365,1370,1374,1379],{"type":24,"tag":179,"props":1339,"children":1340},{"style":233},[1341],{"type":30,"value":1342},"      this",{"type":24,"tag":179,"props":1344,"children":1345},{"style":198},[1346],{"type":30,"value":474},{"type":24,"tag":179,"props":1348,"children":1349},{"style":186},[1350],{"type":30,"value":259},{"type":24,"tag":179,"props":1352,"children":1353},{"style":198},[1354],{"type":30,"value":1355},".innerHTML ",{"type":24,"tag":179,"props":1357,"children":1358},{"style":186},[1359],{"type":30,"value":364},{"type":24,"tag":179,"props":1361,"children":1362},{"style":198},[1363],{"type":30,"value":1364}," markerInnerHTML.",{"type":24,"tag":179,"props":1366,"children":1367},{"style":192},[1368],{"type":30,"value":1369},"join",{"type":24,"tag":179,"props":1371,"children":1372},{"style":198},[1373],{"type":30,"value":450},{"type":24,"tag":179,"props":1375,"children":1376},{"style":453},[1377],{"type":30,"value":1378},"''",{"type":24,"tag":179,"props":1380,"children":1381},{"style":198},[1382],{"type":30,"value":1383},")\n",{"type":24,"tag":179,"props":1385,"children":1387},{"class":181,"line":1386},55,[1388,1392,1397,1401,1405],{"type":24,"tag":179,"props":1389,"children":1390},{"style":233},[1391],{"type":30,"value":1342},{"type":24,"tag":179,"props":1393,"children":1394},{"style":198},[1395],{"type":30,"value":1396},"._divMarkers ",{"type":24,"tag":179,"props":1398,"children":1399},{"style":186},[1400],{"type":30,"value":364},{"type":24,"tag":179,"props":1402,"children":1403},{"style":233},[1404],{"type":30,"value":264},{"type":24,"tag":179,"props":1406,"children":1407},{"style":198},[1408],{"type":30,"value":1409},"._div?.children\n",{"type":24,"tag":179,"props":1411,"children":1413},{"class":181,"line":1412},56,[1414],{"type":24,"tag":179,"props":1415,"children":1416},{"style":198},[1417],{"type":30,"value":313},{"type":24,"tag":179,"props":1419,"children":1421},{"class":181,"line":1420},57,[1422],{"type":24,"tag":179,"props":1423,"children":1424},{"style":198},[1425],{"type":30,"value":1426},"}\n",{"type":24,"tag":1428,"props":1429,"children":1430},"style",{},[1431],{"type":30,"value":1432},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":5,"searchDepth":204,"depth":204,"links":1434},[1435,1436,1437],{"id":27,"depth":214,"text":31},{"id":59,"depth":214,"text":62},{"id":124,"depth":214,"text":127},"markdown","content:03.vue-performant-google-map-marker.md","content","03.vue-performant-google-map-marker.md","03.vue-performant-google-map-marker","md",1743474492107]