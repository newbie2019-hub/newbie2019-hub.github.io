[{"data":1,"prerenderedAt":1041},["ShallowReactive",2],{"content-query-YTwQP0dB8u":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"title":7,"description":8,"date":9,"preview":10,"draft":6,"tags":11,"categories":16,"slug":17,"body":18,"_type":1035,"_id":1036,"_source":1037,"_file":1038,"_stem":1039,"_extension":1040},"/laravel-session","",false,"Laravel Session","Learn how to setup laravel session instead of a token-based authentication that works for api as well","November 20, 2024","/img/laravel-session.webp",[12,13,14,15],"session","laravel","php","authentication",[13,14],"setting-up-laravel-session",{"type":19,"children":20,"toc":1030},"root",[21,30,40,45,53,58,64,80,88,100,109,142,149,192,230,290,298,303,358,363,445,450,961,967,981,994,1024],{"type":22,"tag":23,"props":24,"children":26},"element","h3",{"id":25},"session-based-authentication-in-laravel",[27],{"type":28,"value":29},"text","Session-based Authentication in Laravel",{"type":22,"tag":31,"props":32,"children":33},"p",{},[34],{"type":22,"tag":35,"props":36,"children":37},"strong",{},[38],{"type":28,"value":39},"What is session-based authentication?",{"type":22,"tag":31,"props":41,"children":42},{},[43],{"type":28,"value":44},"Session-based authentication is created on the server for each user after they login. The server then sends a unique session identifier for the client side to store which is usually stored in the cookie. This cookie is used for subsequent requests to authenticate the user.",{"type":22,"tag":31,"props":46,"children":47},{},[48],{"type":22,"tag":35,"props":49,"children":50},{},[51],{"type":28,"value":52},"What is a cookie?",{"type":22,"tag":31,"props":54,"children":55},{},[56],{"type":28,"value":57},"It is a small piece of data that a web sever sends to a user's web browser which is then stored and is sent back with every subsequent request to the same server. Think of it as a way for websites to remember users across different sessions.",{"type":22,"tag":23,"props":59,"children":61},{"id":60},"setting-up-session-based-authentication-in-laravel",[62],{"type":28,"value":63},"Setting up Session-based Authentication in Laravel",{"type":22,"tag":31,"props":65,"children":66},{},[67,69,78],{"type":28,"value":68},"Setting up API Authentication in Laravel is simple since they already have the starter kits. You can also check their ",{"type":22,"tag":70,"props":71,"children":75},"a",{"href":72,"rel":73},"https://laravel.com/docs/11.x/starter-kits#breeze-and-next",[74],"nofollow",[76],{"type":28,"value":77},"documentation",{"type":28,"value":79}," for more information.",{"type":22,"tag":31,"props":81,"children":82},{},[83],{"type":22,"tag":35,"props":84,"children":85},{},[86],{"type":28,"value":87},"SPA Authentication",{"type":22,"tag":31,"props":89,"children":90},{},[91,93],{"type":28,"value":92},"This is from their documentation. You can read more from ",{"type":22,"tag":70,"props":94,"children":97},{"href":95,"rel":96},"https://laravel.com/docs/11.x/sanctum#spa-authentication",[74],[98],{"type":28,"value":99},"here",{"type":22,"tag":101,"props":102,"children":103},"blockquote",{},[104],{"type":22,"tag":31,"props":105,"children":106},{},[107],{"type":28,"value":108},"For this feature, Sanctum does not use tokens of any kind. Instead, Sanctum uses Laravel's built-in cookie based session authentication services. This approach to authentication provides the benefits of CSRF protection, session authentication, as well as protects against leakage of the authentication credentials via XSS.",{"type":22,"tag":101,"props":110,"children":111},{},[112],{"type":22,"tag":31,"props":113,"children":114},{},[115,117,124,126,132,134,140],{"type":28,"value":116},"In order to authenticate, your SPA and API must share the same top-level domain. However, they may be placed on different subdomains. Additionally, you should ensure that you send the ",{"type":22,"tag":118,"props":119,"children":121},"code",{"className":120},[],[122],{"type":28,"value":123},"Accept: application/json",{"type":28,"value":125}," header and either the ",{"type":22,"tag":118,"props":127,"children":129},{"className":128},[],[130],{"type":28,"value":131},"Referer",{"type":28,"value":133}," or ",{"type":22,"tag":118,"props":135,"children":137},{"className":136},[],[138],{"type":28,"value":139},"Origin",{"type":28,"value":141}," header with your request.",{"type":22,"tag":143,"props":144,"children":146},"h4",{"id":145},"steps",[147],{"type":28,"value":148},"Steps:",{"type":22,"tag":150,"props":151,"children":152},"ol",{},[153,167,179],{"type":22,"tag":154,"props":155,"children":156},"li",{},[157,159,165],{"type":28,"value":158},"Run the ",{"type":22,"tag":118,"props":160,"children":162},{"className":161},[],[163],{"type":28,"value":164},"php artisan breeze:install",{"type":28,"value":166}," command and select the API stack as the desired stack.",{"type":22,"tag":154,"props":168,"children":169},{},[170,171,177],{"type":28,"value":158},{"type":22,"tag":118,"props":172,"children":174},{"className":173},[],[175],{"type":28,"value":176},"php artisan migrate",{"type":28,"value":178}," to run the newly created migrations.",{"type":22,"tag":154,"props":180,"children":181},{},[182,184,190],{"type":28,"value":183},"Ensure this environmental variables exist in your ",{"type":22,"tag":118,"props":185,"children":187},{"className":186},[],[188],{"type":28,"value":189},".env",{"type":28,"value":191}," file",{"type":22,"tag":193,"props":194,"children":197},"pre",{"className":195,"code":196,"language":14,"meta":5,"style":5},"language-php shiki shiki-themes github-dark","FRONTEND_URL= //Add your frontend url\nSESSION_DOMAIN=.localhost //with a dot before the localhost\nSANCTUM_STATEFUL_DOMAINS= //.localhost\n",[198],{"type":22,"tag":118,"props":199,"children":200},{"__ignoreMap":5},[201,212,221],{"type":22,"tag":202,"props":203,"children":206},"span",{"class":204,"line":205},"line",1,[207],{"type":22,"tag":202,"props":208,"children":209},{},[210],{"type":28,"value":211},"FRONTEND_URL= //Add your frontend url\n",{"type":22,"tag":202,"props":213,"children":215},{"class":204,"line":214},2,[216],{"type":22,"tag":202,"props":217,"children":218},{},[219],{"type":28,"value":220},"SESSION_DOMAIN=.localhost //with a dot before the localhost\n",{"type":22,"tag":202,"props":222,"children":224},{"class":204,"line":223},3,[225],{"type":22,"tag":202,"props":226,"children":227},{},[228],{"type":28,"value":229},"SANCTUM_STATEFUL_DOMAINS= //.localhost\n",{"type":22,"tag":150,"props":231,"children":233},{"start":232},5,[234,285],{"type":22,"tag":154,"props":235,"children":236},{},[237,239,245,247,253,255,261,263,269,270,276,277,283],{"type":28,"value":238},"Verify if the routes are now available using ",{"type":22,"tag":118,"props":240,"children":242},{"className":241},[],[243],{"type":28,"value":244},"php artisan route:list",{"type":28,"value":246}," or ",{"type":22,"tag":118,"props":248,"children":250},{"className":249},[],[251],{"type":28,"value":252},"php artisan r:l",{"type":28,"value":254},". This will list all available route for your application. Check if there are routes for ",{"type":22,"tag":118,"props":256,"children":258},{"className":257},[],[259],{"type":28,"value":260},"sanctum/csrf-cookie",{"type":28,"value":262},", ",{"type":22,"tag":118,"props":264,"children":266},{"className":265},[],[267],{"type":28,"value":268},"login",{"type":28,"value":262},{"type":22,"tag":118,"props":271,"children":273},{"className":272},[],[274],{"type":28,"value":275},"register",{"type":28,"value":262},{"type":22,"tag":118,"props":278,"children":280},{"className":279},[],[281],{"type":28,"value":282},"forgot password",{"type":28,"value":284},".",{"type":22,"tag":154,"props":286,"children":287},{},[288],{"type":28,"value":289},"If routes do exist then you're done setting up your laravel api. That's all you need to have a working api authentication.",{"type":22,"tag":31,"props":291,"children":292},{},[293],{"type":22,"tag":35,"props":294,"children":295},{},[296],{"type":28,"value":297},"Connecting your React or any SPA",{"type":22,"tag":31,"props":299,"children":300},{},[301],{"type":28,"value":302},"You can now use react, vue or any SPA that you like. Now, when making a request using axios or any fetching library ensure to add the following configuration or any equivalent.",{"type":22,"tag":193,"props":304,"children":308},{"className":305,"code":306,"language":307,"meta":5,"style":5},"language-js shiki shiki-themes github-dark","axios.defaults.withCredentials = true;\naxios.defaults.withXSRFToken = true;\n","js",[309],{"type":22,"tag":118,"props":310,"children":311},{"__ignoreMap":5},[312,338],{"type":22,"tag":202,"props":313,"children":314},{"class":204,"line":205},[315,321,327,333],{"type":22,"tag":202,"props":316,"children":318},{"style":317},"--shiki-default:#E1E4E8",[319],{"type":28,"value":320},"axios.defaults.withCredentials ",{"type":22,"tag":202,"props":322,"children":324},{"style":323},"--shiki-default:#F97583",[325],{"type":28,"value":326},"=",{"type":22,"tag":202,"props":328,"children":330},{"style":329},"--shiki-default:#79B8FF",[331],{"type":28,"value":332}," true",{"type":22,"tag":202,"props":334,"children":335},{"style":317},[336],{"type":28,"value":337},";\n",{"type":22,"tag":202,"props":339,"children":340},{"class":204,"line":214},[341,346,350,354],{"type":22,"tag":202,"props":342,"children":343},{"style":317},[344],{"type":28,"value":345},"axios.defaults.withXSRFToken ",{"type":22,"tag":202,"props":347,"children":348},{"style":323},[349],{"type":28,"value":326},{"type":22,"tag":202,"props":351,"children":352},{"style":329},[353],{"type":28,"value":332},{"type":22,"tag":202,"props":355,"children":356},{"style":317},[357],{"type":28,"value":337},{"type":22,"tag":31,"props":359,"children":360},{},[361],{"type":28,"value":362},"What this does is it will automatically handle the cookie whenever you send a request to your api application. Most likely if ever you use axios you'll have a setup like this.",{"type":22,"tag":193,"props":364,"children":366},{"className":305,"code":365,"language":307,"meta":5,"style":5},"import axios form 'axios';\n\nexport const api = axios.create({\n  baseURL: import.meta.env.VITE_API_URL,\n  withCredentials: true,\n  withXSRFToken: true,\n})\n",[367],{"type":22,"tag":118,"props":368,"children":369},{"__ignoreMap":5},[370,393,402,410,419,427,436],{"type":22,"tag":202,"props":371,"children":372},{"class":204,"line":205},[373,378,383,389],{"type":22,"tag":202,"props":374,"children":375},{"style":323},[376],{"type":28,"value":377},"import",{"type":22,"tag":202,"props":379,"children":380},{"style":317},[381],{"type":28,"value":382}," axios form ",{"type":22,"tag":202,"props":384,"children":386},{"style":385},"--shiki-default:#9ECBFF",[387],{"type":28,"value":388},"'axios'",{"type":22,"tag":202,"props":390,"children":391},{"style":317},[392],{"type":28,"value":337},{"type":22,"tag":202,"props":394,"children":395},{"class":204,"line":214},[396],{"type":22,"tag":202,"props":397,"children":399},{"emptyLinePlaceholder":398},true,[400],{"type":28,"value":401},"\n",{"type":22,"tag":202,"props":403,"children":404},{"class":204,"line":223},[405],{"type":22,"tag":202,"props":406,"children":407},{"style":317},[408],{"type":28,"value":409},"export const api = axios.create({\n",{"type":22,"tag":202,"props":411,"children":413},{"class":204,"line":412},4,[414],{"type":22,"tag":202,"props":415,"children":416},{"style":317},[417],{"type":28,"value":418},"  baseURL: import.meta.env.VITE_API_URL,\n",{"type":22,"tag":202,"props":420,"children":421},{"class":204,"line":232},[422],{"type":22,"tag":202,"props":423,"children":424},{"style":317},[425],{"type":28,"value":426},"  withCredentials: true,\n",{"type":22,"tag":202,"props":428,"children":430},{"class":204,"line":429},6,[431],{"type":22,"tag":202,"props":432,"children":433},{"style":317},[434],{"type":28,"value":435},"  withXSRFToken: true,\n",{"type":22,"tag":202,"props":437,"children":439},{"class":204,"line":438},7,[440],{"type":22,"tag":202,"props":441,"children":442},{"style":317},[443],{"type":28,"value":444},"})\n",{"type":22,"tag":31,"props":446,"children":447},{},[448],{"type":28,"value":449},"To begin authenticating a user, you can start by creating a basic login form. Before sending a POST request to the /login endpoint, you must first make a GET request to the sanctum/csrf-cookie route. Once the sanctum/csrf-cookie request is complete, you can proceed with authenticating the user via the /login endpoint. Typically, your auth functions would look like:",{"type":22,"tag":193,"props":451,"children":455},{"className":452,"code":453,"language":454,"meta":5,"style":5},"language-ts shiki shiki-themes github-dark","// Make this request first then afterwards the login\nconst getCSRFToken = async () => {\n    await api.get('sanctum/csrf-cookie', {\n      baseURL: import.meta.env.VITE_API_WEB_URL\n    })\n}\n\nconst login = async (form: UserLogin) => {\n    const { status, data } = await api.post('login', form,\n      { baseURL: import.meta.env.VITE_API_WEB_URL }\n    )\n    // Handle the response\n}\n\n// Register Fn\n\n// Logout\nconst logout = async () => {\n    const { status } = await api.post('logout', null, {\n      baseURL: import.meta.env.VITE_API_WEB_URL\n    })\n\n    // Handle the logout\n}\n","ts",[456],{"type":22,"tag":118,"props":457,"children":458},{"__ignoreMap":5},[459,468,507,540,571,579,587,594,649,714,749,758,767,775,783,792,800,809,842,900,928,936,944,953],{"type":22,"tag":202,"props":460,"children":461},{"class":204,"line":205},[462],{"type":22,"tag":202,"props":463,"children":465},{"style":464},"--shiki-default:#6A737D",[466],{"type":28,"value":467},"// Make this request first then afterwards the login\n",{"type":22,"tag":202,"props":469,"children":470},{"class":204,"line":214},[471,476,482,487,492,497,502],{"type":22,"tag":202,"props":472,"children":473},{"style":323},[474],{"type":28,"value":475},"const",{"type":22,"tag":202,"props":477,"children":479},{"style":478},"--shiki-default:#B392F0",[480],{"type":28,"value":481}," getCSRFToken",{"type":22,"tag":202,"props":483,"children":484},{"style":323},[485],{"type":28,"value":486}," =",{"type":22,"tag":202,"props":488,"children":489},{"style":323},[490],{"type":28,"value":491}," async",{"type":22,"tag":202,"props":493,"children":494},{"style":317},[495],{"type":28,"value":496}," () ",{"type":22,"tag":202,"props":498,"children":499},{"style":323},[500],{"type":28,"value":501},"=>",{"type":22,"tag":202,"props":503,"children":504},{"style":317},[505],{"type":28,"value":506}," {\n",{"type":22,"tag":202,"props":508,"children":509},{"class":204,"line":223},[510,515,520,525,530,535],{"type":22,"tag":202,"props":511,"children":512},{"style":323},[513],{"type":28,"value":514},"    await",{"type":22,"tag":202,"props":516,"children":517},{"style":317},[518],{"type":28,"value":519}," api.",{"type":22,"tag":202,"props":521,"children":522},{"style":478},[523],{"type":28,"value":524},"get",{"type":22,"tag":202,"props":526,"children":527},{"style":317},[528],{"type":28,"value":529},"(",{"type":22,"tag":202,"props":531,"children":532},{"style":385},[533],{"type":28,"value":534},"'sanctum/csrf-cookie'",{"type":22,"tag":202,"props":536,"children":537},{"style":317},[538],{"type":28,"value":539},", {\n",{"type":22,"tag":202,"props":541,"children":542},{"class":204,"line":412},[543,548,552,556,561,566],{"type":22,"tag":202,"props":544,"children":545},{"style":317},[546],{"type":28,"value":547},"      baseURL: ",{"type":22,"tag":202,"props":549,"children":550},{"style":323},[551],{"type":28,"value":377},{"type":22,"tag":202,"props":553,"children":554},{"style":317},[555],{"type":28,"value":284},{"type":22,"tag":202,"props":557,"children":558},{"style":329},[559],{"type":28,"value":560},"meta",{"type":22,"tag":202,"props":562,"children":563},{"style":317},[564],{"type":28,"value":565},".env.",{"type":22,"tag":202,"props":567,"children":568},{"style":329},[569],{"type":28,"value":570},"VITE_API_WEB_URL\n",{"type":22,"tag":202,"props":572,"children":573},{"class":204,"line":232},[574],{"type":22,"tag":202,"props":575,"children":576},{"style":317},[577],{"type":28,"value":578},"    })\n",{"type":22,"tag":202,"props":580,"children":581},{"class":204,"line":429},[582],{"type":22,"tag":202,"props":583,"children":584},{"style":317},[585],{"type":28,"value":586},"}\n",{"type":22,"tag":202,"props":588,"children":589},{"class":204,"line":438},[590],{"type":22,"tag":202,"props":591,"children":592},{"emptyLinePlaceholder":398},[593],{"type":28,"value":401},{"type":22,"tag":202,"props":595,"children":597},{"class":204,"line":596},8,[598,602,607,611,615,620,626,631,636,641,645],{"type":22,"tag":202,"props":599,"children":600},{"style":323},[601],{"type":28,"value":475},{"type":22,"tag":202,"props":603,"children":604},{"style":478},[605],{"type":28,"value":606}," login",{"type":22,"tag":202,"props":608,"children":609},{"style":323},[610],{"type":28,"value":486},{"type":22,"tag":202,"props":612,"children":613},{"style":323},[614],{"type":28,"value":491},{"type":22,"tag":202,"props":616,"children":617},{"style":317},[618],{"type":28,"value":619}," (",{"type":22,"tag":202,"props":621,"children":623},{"style":622},"--shiki-default:#FFAB70",[624],{"type":28,"value":625},"form",{"type":22,"tag":202,"props":627,"children":628},{"style":323},[629],{"type":28,"value":630},":",{"type":22,"tag":202,"props":632,"children":633},{"style":478},[634],{"type":28,"value":635}," UserLogin",{"type":22,"tag":202,"props":637,"children":638},{"style":317},[639],{"type":28,"value":640},") ",{"type":22,"tag":202,"props":642,"children":643},{"style":323},[644],{"type":28,"value":501},{"type":22,"tag":202,"props":646,"children":647},{"style":317},[648],{"type":28,"value":506},{"type":22,"tag":202,"props":650,"children":652},{"class":204,"line":651},9,[653,658,663,668,672,677,682,686,691,695,700,704,709],{"type":22,"tag":202,"props":654,"children":655},{"style":323},[656],{"type":28,"value":657},"    const",{"type":22,"tag":202,"props":659,"children":660},{"style":317},[661],{"type":28,"value":662}," { ",{"type":22,"tag":202,"props":664,"children":665},{"style":329},[666],{"type":28,"value":667},"status",{"type":22,"tag":202,"props":669,"children":670},{"style":317},[671],{"type":28,"value":262},{"type":22,"tag":202,"props":673,"children":674},{"style":329},[675],{"type":28,"value":676},"data",{"type":22,"tag":202,"props":678,"children":679},{"style":317},[680],{"type":28,"value":681}," } ",{"type":22,"tag":202,"props":683,"children":684},{"style":323},[685],{"type":28,"value":326},{"type":22,"tag":202,"props":687,"children":688},{"style":323},[689],{"type":28,"value":690}," await",{"type":22,"tag":202,"props":692,"children":693},{"style":317},[694],{"type":28,"value":519},{"type":22,"tag":202,"props":696,"children":697},{"style":478},[698],{"type":28,"value":699},"post",{"type":22,"tag":202,"props":701,"children":702},{"style":317},[703],{"type":28,"value":529},{"type":22,"tag":202,"props":705,"children":706},{"style":385},[707],{"type":28,"value":708},"'login'",{"type":22,"tag":202,"props":710,"children":711},{"style":317},[712],{"type":28,"value":713},", form,\n",{"type":22,"tag":202,"props":715,"children":717},{"class":204,"line":716},10,[718,723,727,731,735,739,744],{"type":22,"tag":202,"props":719,"children":720},{"style":317},[721],{"type":28,"value":722},"      { baseURL: ",{"type":22,"tag":202,"props":724,"children":725},{"style":323},[726],{"type":28,"value":377},{"type":22,"tag":202,"props":728,"children":729},{"style":317},[730],{"type":28,"value":284},{"type":22,"tag":202,"props":732,"children":733},{"style":329},[734],{"type":28,"value":560},{"type":22,"tag":202,"props":736,"children":737},{"style":317},[738],{"type":28,"value":565},{"type":22,"tag":202,"props":740,"children":741},{"style":329},[742],{"type":28,"value":743},"VITE_API_WEB_URL",{"type":22,"tag":202,"props":745,"children":746},{"style":317},[747],{"type":28,"value":748}," }\n",{"type":22,"tag":202,"props":750,"children":752},{"class":204,"line":751},11,[753],{"type":22,"tag":202,"props":754,"children":755},{"style":317},[756],{"type":28,"value":757},"    )\n",{"type":22,"tag":202,"props":759,"children":761},{"class":204,"line":760},12,[762],{"type":22,"tag":202,"props":763,"children":764},{"style":464},[765],{"type":28,"value":766},"    // Handle the response\n",{"type":22,"tag":202,"props":768,"children":770},{"class":204,"line":769},13,[771],{"type":22,"tag":202,"props":772,"children":773},{"style":317},[774],{"type":28,"value":586},{"type":22,"tag":202,"props":776,"children":778},{"class":204,"line":777},14,[779],{"type":22,"tag":202,"props":780,"children":781},{"emptyLinePlaceholder":398},[782],{"type":28,"value":401},{"type":22,"tag":202,"props":784,"children":786},{"class":204,"line":785},15,[787],{"type":22,"tag":202,"props":788,"children":789},{"style":464},[790],{"type":28,"value":791},"// Register Fn\n",{"type":22,"tag":202,"props":793,"children":795},{"class":204,"line":794},16,[796],{"type":22,"tag":202,"props":797,"children":798},{"emptyLinePlaceholder":398},[799],{"type":28,"value":401},{"type":22,"tag":202,"props":801,"children":803},{"class":204,"line":802},17,[804],{"type":22,"tag":202,"props":805,"children":806},{"style":464},[807],{"type":28,"value":808},"// Logout\n",{"type":22,"tag":202,"props":810,"children":812},{"class":204,"line":811},18,[813,817,822,826,830,834,838],{"type":22,"tag":202,"props":814,"children":815},{"style":323},[816],{"type":28,"value":475},{"type":22,"tag":202,"props":818,"children":819},{"style":478},[820],{"type":28,"value":821}," logout",{"type":22,"tag":202,"props":823,"children":824},{"style":323},[825],{"type":28,"value":486},{"type":22,"tag":202,"props":827,"children":828},{"style":323},[829],{"type":28,"value":491},{"type":22,"tag":202,"props":831,"children":832},{"style":317},[833],{"type":28,"value":496},{"type":22,"tag":202,"props":835,"children":836},{"style":323},[837],{"type":28,"value":501},{"type":22,"tag":202,"props":839,"children":840},{"style":317},[841],{"type":28,"value":506},{"type":22,"tag":202,"props":843,"children":845},{"class":204,"line":844},19,[846,850,854,858,862,866,870,874,878,882,887,891,896],{"type":22,"tag":202,"props":847,"children":848},{"style":323},[849],{"type":28,"value":657},{"type":22,"tag":202,"props":851,"children":852},{"style":317},[853],{"type":28,"value":662},{"type":22,"tag":202,"props":855,"children":856},{"style":329},[857],{"type":28,"value":667},{"type":22,"tag":202,"props":859,"children":860},{"style":317},[861],{"type":28,"value":681},{"type":22,"tag":202,"props":863,"children":864},{"style":323},[865],{"type":28,"value":326},{"type":22,"tag":202,"props":867,"children":868},{"style":323},[869],{"type":28,"value":690},{"type":22,"tag":202,"props":871,"children":872},{"style":317},[873],{"type":28,"value":519},{"type":22,"tag":202,"props":875,"children":876},{"style":478},[877],{"type":28,"value":699},{"type":22,"tag":202,"props":879,"children":880},{"style":317},[881],{"type":28,"value":529},{"type":22,"tag":202,"props":883,"children":884},{"style":385},[885],{"type":28,"value":886},"'logout'",{"type":22,"tag":202,"props":888,"children":889},{"style":317},[890],{"type":28,"value":262},{"type":22,"tag":202,"props":892,"children":893},{"style":329},[894],{"type":28,"value":895},"null",{"type":22,"tag":202,"props":897,"children":898},{"style":317},[899],{"type":28,"value":539},{"type":22,"tag":202,"props":901,"children":903},{"class":204,"line":902},20,[904,908,912,916,920,924],{"type":22,"tag":202,"props":905,"children":906},{"style":317},[907],{"type":28,"value":547},{"type":22,"tag":202,"props":909,"children":910},{"style":323},[911],{"type":28,"value":377},{"type":22,"tag":202,"props":913,"children":914},{"style":317},[915],{"type":28,"value":284},{"type":22,"tag":202,"props":917,"children":918},{"style":329},[919],{"type":28,"value":560},{"type":22,"tag":202,"props":921,"children":922},{"style":317},[923],{"type":28,"value":565},{"type":22,"tag":202,"props":925,"children":926},{"style":329},[927],{"type":28,"value":570},{"type":22,"tag":202,"props":929,"children":931},{"class":204,"line":930},21,[932],{"type":22,"tag":202,"props":933,"children":934},{"style":317},[935],{"type":28,"value":578},{"type":22,"tag":202,"props":937,"children":939},{"class":204,"line":938},22,[940],{"type":22,"tag":202,"props":941,"children":942},{"emptyLinePlaceholder":398},[943],{"type":28,"value":401},{"type":22,"tag":202,"props":945,"children":947},{"class":204,"line":946},23,[948],{"type":22,"tag":202,"props":949,"children":950},{"style":464},[951],{"type":28,"value":952},"    // Handle the logout\n",{"type":22,"tag":202,"props":954,"children":956},{"class":204,"line":955},24,[957],{"type":22,"tag":202,"props":958,"children":959},{"style":317},[960],{"type":28,"value":586},{"type":22,"tag":23,"props":962,"children":964},{"id":963},"pre-flight",[965],{"type":28,"value":966},"Pre-flight",{"type":22,"tag":31,"props":968,"children":969},{},[970,972,979],{"type":28,"value":971},"You'll most likely see a preflight request before any api request you do this is automatically done by the browser. You can check more about it [here](A CORS preflight request is a ",{"type":22,"tag":70,"props":973,"children":976},{"href":974,"rel":975},"https://developer.mozilla.org/en-US/docs/Glossary/CORS",[74],[977],{"type":28,"value":978},"CORS",{"type":28,"value":980}," request that checks to see if the CORS protocol is understood and a server is aware using specific methods and headers.)",{"type":22,"tag":31,"props":982,"children":983},{},[984,986,992],{"type":28,"value":985},"You can cache for a certain amount of time so that preflight wont be sent for every request you make. Open the ",{"type":22,"tag":118,"props":987,"children":989},{"className":988},[],[990],{"type":28,"value":991},"cors.php",{"type":28,"value":993}," file in your laravel application and update the 'max_age' configuration. Now whenever you make a request a preflight will be sent once only for every api endpoint and not for every request sent to the api endpoint.",{"type":22,"tag":101,"props":995,"children":996},{},[997],{"type":22,"tag":31,"props":998,"children":999},{},[1000,1002,1009,1011,1022],{"type":28,"value":1001},"The preflight response can be optionally cached for the requests created in the same ",{"type":22,"tag":70,"props":1003,"children":1006},{"href":1004,"rel":1005},"https://developer.mozilla.org/en-US/docs/Glossary/URL",[74],[1007],{"type":28,"value":1008},"URL",{"type":28,"value":1010}," using ",{"type":22,"tag":70,"props":1012,"children":1015},{"href":1013,"rel":1014},"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Max-Age",[74],[1016],{"type":22,"tag":118,"props":1017,"children":1019},{"className":1018},[],[1020],{"type":28,"value":1021},"Access-Control-Max-Age",{"type":28,"value":1023}," header like in the above example. To cache preflight responses, the browser uses a specific cache that is separate from the general HTTP cache that the browser manages. Preflight responses are never cached in the browser's general HTTP cache.",{"type":22,"tag":1025,"props":1026,"children":1027},"style",{},[1028],{"type":28,"value":1029},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":5,"searchDepth":214,"depth":214,"links":1031},[1032,1033,1034],{"id":25,"depth":223,"text":29},{"id":60,"depth":223,"text":63},{"id":963,"depth":223,"text":966},"markdown","content:000.laravel-session.md","content","000.laravel-session.md","000.laravel-session","md",1735780975119]